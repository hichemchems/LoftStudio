# DIAGNOSTIC COMPLET - PROBL√àME 404 API
echo '========================================'
echo 'üîç DIAGNOSTIC COMPLET LOFTBARBER API 404'
echo '========================================'

echo ''
echo '1Ô∏è‚É£ V√âRIFICATION CPANEL NODE.JS :'
echo '   üìç Allez dans cPanel > Node.js Selector > Applications'
echo '   ‚úÖ Loftbarber doit √™tre list√©'
echo '   ‚úÖ Status doit √™tre \"Running\" (vert)'
echo '   ‚úÖ Application URL: /'
echo '   ‚úÖ Startup file: server.js'
echo ''
echo '   Si pas list√© ou arr√™t√© :'
echo '   - Cliquez \"Setup Node.js App\"'
echo '   - Root: /home/dije1636/public_html/loftbarber'
echo '   - URL: /'
echo '   - File: server.js'
echo '   - Log: /home/dije1636/logs/loftbarber.log'

echo ''
echo '2Ô∏è‚É£ VARIABLES D\'ENVIRONNEMENT (CRITIQUE) :'
echo '   Dans cPanel > Node.js > Applications > loftbarber > Environment variables'
echo '   Ajoutez ces variables EXACTEMENT :'
echo ''
echo '   NODE_ENV=production'
echo '   PASSENGER_APP_ENV=production'
echo '   DB_HOST=localhost'
echo '   DB_USER=dije1636_loftbarber'
echo '   DB_PASSWORD=[VOTRE_MOT_DE_PASSE_R√âEL]'
echo '   DB_NAME=dije1636_loftbarber'
echo '   JWT_SECRET=[VOTRE_SECRET_JWT]'
echo ''
echo '   ‚ö†Ô∏è REMPLACEZ LES VALEURS PAR LES V√îTRES !'

echo ''
echo '3Ô∏è‚É£ INSTALLATION D√âPENDANCES :'
echo '   Dans cPanel > Node.js > Applications > loftbarber > Run NPM Install'
echo '   Ou manuellement :'
echo '   cd ~/public_html/loftbarber && npm install'

echo ''
echo '4Ô∏è‚É£ RED√âMARRAGE APPLICATION :'
echo '   Dans cPanel > Node.js > Applications > Restart'

echo ''
echo '5Ô∏è‚É£ V√âRIFICATION LOGS :'
echo '   tail -20 ~/logs/loftbarber.log'

echo ''
echo '6Ô∏è‚É£ TEST FINAL :'
echo '   curl -I https://loftbarber.com/api/v1/health'
echo '   Doit retourner 200 OK (pas 404)'

echo ''
echo '========================================'
echo 'üìû SI √áA NE MARCHE PAS :'
echo '1. V√©rifiez que la DB MySQL existe dans cPanel > MySQL Databases'
echo '2. V√©rifiez que l\'utilisateur dije1636_loftbarber a acc√®s √† la DB'
echo '3. V√©rifiez que le domaine loftbarber.com pointe vers o2switch'
echo '========================================'
