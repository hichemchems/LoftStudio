#!/bin/bash
echo "ðŸ”§ CORRECTIONS POUR O2SWITCH - PROBLÃˆMES IDENTIFIÃ‰S"
echo "=================================================="

echo ""
echo "âŒ PROBLÃˆMES TROUVÃ‰S:"
echo "1. Node.js et npm non disponibles dans le terminal cPanel"
echo "2. Passenger non configurÃ© correctement"
echo "3. Application Node.js pas dÃ©marrÃ©e"
echo "4. API retourne 404 (pas de serveur backend actif)"
echo ""

echo "âœ… SOLUTIONS Ã€ APPLIQUER:"
echo ""

echo "1. CONFIGURER NODE.JS DANS CPANEL:"
echo "   - Aller dans cPanel > Node.js Selector"
echo "   - SÃ©lectionner votre domaine"
echo "   - Choisir Node.js version 18+"
echo "   - Application root: ~/public_html/loftbarber"
echo "   - Application URL: /"
echo "   - Application startup file: server.js"
echo "   - Passenger log file: ~/logs/loftbarber.log"
echo ""

echo "2. VARIABLES D'ENVIRONNEMENT Ã€ AJOUTER:"
echo "   NODE_ENV=production"
echo "   PASSENGER_APP_ENV=production"
echo "   DB_HOST=localhost"
echo "   DB_USER=[votre_user_db]"
echo "   DB_PASSWORD=[votre_password_db]"
echo "   DB_NAME=[votre_nom_db]"
echo "   JWT_SECRET=[votre_secret_jwt_secure]"
echo ""

echo "3. CRÃ‰ER LA BASE DE DONNÃ‰ES:"
echo "   - Aller dans cPanel > MySQL Databases"
echo "   - CrÃ©er une base de donnÃ©es"
echo "   - CrÃ©er un utilisateur MySQL"
echo "   - Donner tous les privilÃ¨ges Ã  l'utilisateur sur la DB"
echo ""

echo "4. REDÃ‰MARRER L'APPLICATION:"
echo "   - Dans cPanel > Node.js Selector > Applications"
echo "   - Cliquer sur 'Restart' pour LoftBarber"
echo ""

echo "5. VÃ‰RIFIER LES LOGS:"
echo "   - Consulter ~/logs/loftbarber.log"
echo "   - VÃ©rifier les erreurs de dÃ©marrage"
echo ""

echo "6. TEST FINAL:"
echo "   - Visiter https://votre-domaine.com/"
echo "   - Tester le login avec admin@loftbarber.com / admin123"
echo ""

echo "=================================================="
echo "ðŸ“ž SI PROBLÃˆMES PERSISTANTS:"
echo "   - Contacter le support o2switch"
echo "   - Fournir les logs d'erreur"
echo "   - VÃ©rifier la configuration Passenger"
echo "=================================================="
